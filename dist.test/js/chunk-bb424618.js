(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bb424618"],{"8e00":function(t,a,e){},d1cd:function(t,a,e){"use strict";e("8e00")},d800:function(t,a,e){"use strict";e.r(a);var i=e("5530"),s=e("90fe"),r={data:function(){return{type:1,visible:!1,submitting:!1,data:{id:void 0,title:"",startAt:"",owner:void 0,description:""},rules:{title:[{trigger:"blur",required:!0,type:"string",message:"请输入任务名称"}],startAt:[{trigger:"blur",required:!0,type:"string",message:"请输入开始时间"}],owner:[{trigger:"change",required:!0,type:"string",message:"请选择负责人"}],description:[{trigger:"blur",required:!0,type:"string",message:"请输入任务描述"}]}}},methods:{add:function(t){this.type=1,this.visible=!0,this.callback=t},edit:function(t,a){this.type=2,this.visible=!0,this.data=s.a.clone(t),this.callback=a},handleClose:function(){this.visible=!1,this.submitting=!1},handleAfterClose:function(){var t={id:void 0,title:"",startAt:"",owner:void 0,description:""};this.$refs.form.reset(),this.data=t},handleSubmit:function(){var t=this;this.$refs.form.validate((function(a){if(!a)return t.$message.error("任务信息填写不正确");var e=t.data,i="",s="";1==t.type?(i="example/addListStandardDatasource",s="提交成功"):2==t.type&&(i="example/editListStandardDatasource",s="保存成功"),t.submitting=!0,t.$store.dispatch(i,e).then((function(a){t.handleClose(),t.$message.success(s),"function"==typeof t.callback&&t.callback(a)})).catch((function(a){t.submitting=!1}))}))}}},n=e("2877"),o={components:{VuiProFormModal:Object(n.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vui-modal",{attrs:{closable:!t.submitting,width:600,clickBackdropToClose:!1},on:{cancel:t.handleClose,afterClose:t.handleAfterClose},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[e("template",{slot:"title"},[t._v(t._s(1==t.type?"添加任务":"编辑任务"))]),e("vui-form",{ref:"form",attrs:{layout:"horizontal",model:t.data,rules:t.rules,labelWidth:86}},[e("vui-form-item",{attrs:{prop:"title",label:"任务名称"}},[e("vui-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入任务名称"},model:{value:t.data.title,callback:function(a){t.$set(t.data,"title",a)},expression:"data.title"}})],1),e("vui-form-item",{attrs:{prop:"startAt",label:"开始时间"}},[e("vui-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入开始时间"},model:{value:t.data.startAt,callback:function(a){t.$set(t.data,"startAt",a)},expression:"data.startAt"}})],1),e("vui-form-item",{attrs:{prop:"owner",label:"负责人"}},[e("vui-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择负责人"},model:{value:t.data.owner,callback:function(a){t.$set(t.data,"owner",a)},expression:"data.owner"}},[e("vui-option",{attrs:{value:"阿波罗"}},[t._v("阿波罗")]),e("vui-option",{attrs:{value:"柳残阳"}},[t._v("柳残阳")]),e("vui-option",{attrs:{value:"萱子乔"}},[t._v("萱子乔")]),e("vui-option",{attrs:{value:"花满楼"}},[t._v("花满楼")]),e("vui-option",{attrs:{value:"张无忌"}},[t._v("张无忌")]),e("vui-option",{attrs:{value:"紫旭琳"}},[t._v("紫旭琳")]),e("vui-option",{attrs:{value:"张三丰"}},[t._v("张三丰")]),e("vui-option",{attrs:{value:"瑰柳儿"}},[t._v("瑰柳儿")]),e("vui-option",{attrs:{value:"雪浮灵"}},[t._v("雪浮灵")]),e("vui-option",{attrs:{value:"南宫惘"}},[t._v("南宫惘")])],1)],1),e("vui-form-item",{attrs:{prop:"description",label:"任务描述"}},[e("vui-textarea",{staticStyle:{width:"100%"},attrs:{maxLength:"200",placeholder:"请输入任务描述"},model:{value:t.data.description,callback:function(a){t.$set(t.data,"description",a)},expression:"data.description"}})],1)],1),e("template",{slot:"footer"},[e("vui-button",{attrs:{disabled:t.submitting},on:{click:function(a){return t.handleClose()}}},[t._v("取消")]),e("vui-button",{attrs:{type:"primary",loading:t.submitting},on:{click:function(a){return t.handleSubmit()}}},[t._v(t._s(1==t.type?"确认":"保存"))])],1)],2)}),[],!1,null,null,null).exports},data:function(){return{searcher:{status:0,keywords:""},pagination:{total:0,page:1,pageSize:10},list:{loading:!1,data:[]}}},methods:{getList:function(){var t=this,a=Object(i.a)(Object(i.a)({},this.searcher),{},{page:this.pagination.page,pageSize:this.pagination.pageSize});this.list.loading=!0,this.$store.dispatch("example/getListStandardDatasource",a).then((function(a){t.list.loading=!1,t.list.data=a.content,t.pagination.total=a.total})).catch((function(a){t.list.loading=!1}))},handleSearch:function(){this.pagination.page=1,this.getList()},handleChangePage:function(t){this.pagination.page=t,this.getList()},handleChangePageSize:function(t){this.pagination.pageSize=t,this.getList()},handleAdd:function(){var t=this;this.$refs.formModal.add((function(a){t.getList()}))},handleEdit:function(t){var a=this;this.$refs.formModal.edit(t,(function(t){a.getList()}))},handleDelete:function(t){var a=this,e=t,i=this.$message.loading({duration:0,content:"正在删除，请稍后..."});this.$store.dispatch("example/deleteListTableDatasource",e).then((function(t){i.close(),a.$message.success("删除成功"),a.getList()})).catch((function(t){a.list.loading=!1}))},handleMoreActionClick:function(t,a){var e=this;"edit"===t?this.handleEdit(a):"delete"===t&&this.$modal.confirm({title:"友情提示",description:"您确定要删除当前任务吗？",onOk:function(){e.handleDelete(a)}})}},created:function(){this.getList()}},l=(e("d1cd"),Object(n.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"vui-pro-page"},[e("vui-page-header",{staticClass:"vui-pro-page-header",attrs:{ghost:!1}},[e("template",{slot:"title"},[t._v("标准列表")]),e("p",[t._v("标准的列表，包含增删改查等基础操作")])],2),e("div",{staticClass:"vui-pro-page-body"},[e("vui-card",{attrs:{bordered:!1,shadow:"always"}},[e("vui-row",[e("vui-col",{attrs:{span:8}},[e("div",{staticClass:"vui-pro-list-standard-statistic"},[e("h4",[t._v("进行中的任务")]),e("p",[e("em",{staticStyle:{color:"#2d8cf0"}},[t._v("10")]),t._v("个任务")])])]),e("vui-col",{attrs:{span:8}},[e("div",{staticClass:"vui-pro-list-standard-statistic"},[e("h4",[t._v("剩余任务")]),e("p",[e("em",{staticStyle:{color:"#faad14"}},[t._v("4")]),t._v("个任务")])])]),e("vui-col",{attrs:{span:8}},[e("div",{staticClass:"vui-pro-list-standard-statistic"},[e("h4",[t._v("任务总耗时")]),e("p",[e("em",{staticStyle:{color:"#ed5565"}},[t._v("120")]),t._v("个小时")])])])],1)],1),e("vui-card",{staticClass:"margin-top-20",attrs:{bordered:!1,shadow:"always",headerStyle:"padding: 16px 16px 16px 20px;",title:"任务列表"}},[e("vui-space",{attrs:{slot:"extra"},slot:"extra"},[e("vui-radio-group",{attrs:{type:"button"},model:{value:t.searcher.status,callback:function(a){t.$set(t.searcher,"status",a)},expression:"searcher.status"}},[e("vui-radio",{attrs:{value:0}},[t._v("全部")]),e("vui-radio",{attrs:{value:1}},[t._v("进行中")]),e("vui-radio",{attrs:{value:2}},[t._v("已完成")])],1),e("vui-input-group",{attrs:{compact:""}},[e("vui-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入关键字查询"},model:{value:t.searcher.keywords,callback:function(a){t.$set(t.searcher,"keywords",a)},expression:"searcher.keywords"}}),e("vui-button",{attrs:{icon:"search"},on:{click:t.handleSearch}})],1),e("vui-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("添加")])],1),e("vui-spin",{attrs:{spinning:t.list.loading}},[0==t.list.data.length?e("vui-empty",{staticStyle:{padding:"100px 0"}}):e("vui-list",t._l(t.list.data,(function(a,i){return e("vui-list-item",{key:i},[e("vui-list-item-meta",[e("vui-avatar",{attrs:{slot:"avatar",shape:"square",src:a.icon,size:48},slot:"avatar"}),e("a",{attrs:{slot:"title",href:"javascript:;"},slot:"title"},[t._v(t._s(a.title))]),e("div",{staticClass:"write-ellipsis",attrs:{slot:"description"},slot:"description"},[t._v(t._s(a.description))])],1),e("div",{staticClass:"vui-pro-list-standard-item-content"},[e("div",{staticClass:"vui-pro-list-standard-item-content-group"},[e("h4",[t._v("负责人")]),e("p",[t._v(t._s(a.owner))])]),e("div",{staticClass:"vui-pro-list-standard-item-content-group"},[e("h4",[t._v("开始时间")]),e("p",[t._v(t._s(t._f("dateformatter")(a.startAt,"yyyy-MM-dd HH:mm")))])]),e("div",{staticClass:"vui-pro-list-standard-item-content-group"},[e("vui-progress",{attrs:{stroke:6,status:a.status,percentage:a.progress}})],1)]),e("template",{slot:"actions"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.handleEdit(a)}}},[t._v("编辑")]),e("vui-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[e("a",{attrs:{href:"javascript:;"}},[t._v("更多")]),e("vui-dropdown-menu",{attrs:{slot:"menu"},on:{click:function(e){return t.handleMoreActionClick(e,a)}},slot:"menu"},[e("vui-dropdown-menu-item",{attrs:{name:"edit",title:"编辑"}}),e("vui-dropdown-menu-item",{attrs:{name:"delete",title:"删除"}})],1)],1)],1)],2)})),1)],1),e("div",{staticStyle:{"border-top":"1px solid #f0f0f0","padding-top":"20px"}},[e("div",{staticStyle:{float:"left","line-height":"34px"}},[t._v("共 "),e("em",[t._v(t._s(t.pagination.total))]),t._v(" 条")]),e("vui-pagination",t._b({attrs:{align:"right",showPageSizer:"",showPageElevator:""},on:{change:t.handleChangePage,changePageSize:t.handleChangePageSize}},"vui-pagination",t.pagination,!1))],1)],1),e("vui-pro-form-modal",{ref:"formModal"})],1)],1)}),[],!1,null,null,null));a.default=l.exports}}]);